<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Skeleton Animation -->
    <Storyboard x:Key="SkeletonAnimation" RepeatBehavior="Forever">
        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                         From="0.4"
                         To="1.0"
                         Duration="0:0:1.5"
                         AutoReverse="True"
                         EnableDependentAnimation="True"/>
    </Storyboard>

    <!-- Skeleton Brush -->
    <SolidColorBrush x:Key="SkeletonBrush" Color="{ThemeResource SystemBaseLowColor}"/>

    <!-- Guide Card Skeleton -->
    <DataTemplate x:Key="GuideCardSkeletonTemplate">
        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16"
                Margin="0,0,0,12">
            <StackPanel Spacing="12">
                <!-- Title Skeleton -->
                <Rectangle Fill="{StaticResource SkeletonBrush}"
                           Height="24"
                           CornerRadius="4"
                           Opacity="0.4">
                    <Rectangle.Resources>
                        <Storyboard x:Name="TitleAnimation" RepeatBehavior="Forever">
                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                           From="0.4"
                                           To="1.0"
                                           Duration="0:0:1.5"
                                           AutoReverse="True"/>
                        </Storyboard>
                    </Rectangle.Resources>
                    <Rectangle.Triggers>
                        <EventTrigger RoutedEvent="Rectangle.Loaded">
                            <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                        </EventTrigger>
                    </Rectangle.Triggers>
                </Rectangle>

                <!-- Description Skeleton -->
                <StackPanel Spacing="6">
                    <Rectangle Fill="{StaticResource SkeletonBrush}"
                               Height="16"
                               CornerRadius="4"
                               Opacity="0.4">
                        <Rectangle.Triggers>
                            <EventTrigger RoutedEvent="Rectangle.Loaded">
                                <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                            </EventTrigger>
                        </Rectangle.Triggers>
                    </Rectangle>
                    <Rectangle Fill="{StaticResource SkeletonBrush}"
                               Height="16"
                               Width="200"
                               HorizontalAlignment="Left"
                               CornerRadius="4"
                               Opacity="0.4">
                        <Rectangle.Triggers>
                            <EventTrigger RoutedEvent="Rectangle.Loaded">
                                <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                            </EventTrigger>
                        </Rectangle.Triggers>
                    </Rectangle>
                </StackPanel>

                <!-- Metadata Skeleton -->
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <Rectangle Fill="{StaticResource SkeletonBrush}"
                               Height="14"
                               Width="80"
                               CornerRadius="4"
                               Opacity="0.4">
                        <Rectangle.Triggers>
                            <EventTrigger RoutedEvent="Rectangle.Loaded">
                                <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                            </EventTrigger>
                        </Rectangle.Triggers>
                    </Rectangle>
                    <Rectangle Fill="{StaticResource SkeletonBrush}"
                               Height="14"
                               Width="60"
                               CornerRadius="4"
                               Opacity="0.4">
                        <Rectangle.Triggers>
                            <EventTrigger RoutedEvent="Rectangle.Loaded">
                                <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                            </EventTrigger>
                        </Rectangle.Triggers>
                    </Rectangle>
                </StackPanel>
            </StackPanel>
        </Border>
    </DataTemplate>

    <!-- Step Content Skeleton -->
    <DataTemplate x:Key="StepContentSkeletonTemplate">
        <StackPanel Spacing="16">
            <!-- Title -->
            <Rectangle Fill="{StaticResource SkeletonBrush}"
                       Height="32"
                       Width="300"
                       HorizontalAlignment="Left"
                       CornerRadius="4"
                       Opacity="0.4">
                <Rectangle.Triggers>
                    <EventTrigger RoutedEvent="Rectangle.Loaded">
                        <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                    </EventTrigger>
                </Rectangle.Triggers>
            </Rectangle>

            <!-- Content Lines -->
            <StackPanel Spacing="8">
                <Rectangle Fill="{StaticResource SkeletonBrush}"
                           Height="18"
                           CornerRadius="4"
                           Opacity="0.4">
                    <Rectangle.Triggers>
                        <EventTrigger RoutedEvent="Rectangle.Loaded">
                            <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                        </EventTrigger>
                    </Rectangle.Triggers>
                </Rectangle>
                <Rectangle Fill="{StaticResource SkeletonBrush}"
                           Height="18"
                           CornerRadius="4"
                           Opacity="0.4">
                    <Rectangle.Triggers>
                        <EventTrigger RoutedEvent="Rectangle.Loaded">
                            <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                        </EventTrigger>
                    </Rectangle.Triggers>
                </Rectangle>
                <Rectangle Fill="{StaticResource SkeletonBrush}"
                           Height="18"
                           Width="400"
                           HorizontalAlignment="Left"
                           CornerRadius="4"
                           Opacity="0.4">
                    <Rectangle.Triggers>
                        <EventTrigger RoutedEvent="Rectangle.Loaded">
                            <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                        </EventTrigger>
                    </Rectangle.Triggers>
                </Rectangle>
            </StackPanel>

            <!-- Image Placeholder -->
            <Rectangle Fill="{StaticResource SkeletonBrush}"
                       Height="300"
                       CornerRadius="8"
                       Opacity="0.4"
                       Margin="0,16,0,0">
                <Rectangle.Triggers>
                    <EventTrigger RoutedEvent="Rectangle.Loaded">
                        <BeginStoryboard Storyboard="{StaticResource SkeletonAnimation}"/>
                    </EventTrigger>
                </Rectangle.Triggers>
            </Rectangle>
        </StackPanel>
    </DataTemplate>

    <!-- List Skeleton (for guides list) -->
    <Style x:Key="GuidesListSkeletonStyle" TargetType="ItemsRepeater">
        <Setter Property="ItemTemplate" Value="{StaticResource GuideCardSkeletonTemplate}"/>
    </Style>

</ResourceDictionary>
